(function(s,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(s=typeof globalThis<"u"?globalThis:s||self,r(s.storyblokResolveRelationsDeep={}))})(this,function(s){"use strict";const r=async(t,e,o,n,f)=>{for(const y of o){const[a,c]=y.split("."),d=l(a,e);for(const p of d){const i=p[c];Array.isArray(i)?p[c]=await Promise.all(i.map(async b=>await u(t,b))):typeof i=="string"?p[c]=await u(t,i,n,f):typeof i=="object"&&r(t,i,o)}}return e},l=(t,e)=>{const o=[];return e=e??{},e.component===t&&o.push(e),Object.values(e).forEach(n=>{typeof n=="object"&&o.push(...l(t,n))}),o},u=async(t,e,o,n)=>{if(n)return n(e,o);const{data:f}=await t.get("cdn/stories",{...o,by_uuids:e});return f.stories.at(0)??e};s.resolveRelationsDeep=r,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
